from scrapy.spider import BaseSpider
from scrapy.selector import HtmlXPathSelector

from product.items import Product

class ProductSpider(BaseSpider):
    name = "product"
    allowed_domains = ["dmoz.org"]
    start_urls = [
        "http://www.thesource.ca/estore/category.aspx?language=en-CA&catalog=Online&category=Acerlaptop"
    ]
    
    def parse(self, response):
    
        hxs = HtmlXPathSelector(response)
        sites = hxs.select('//*[@class="MenuText"]')
        items = []
        
        for site in sites:
            item = Website()
            item['title'] = site.select('a').extract()
            item['description'] = "asd"
            item['price'] = "asd"
            items.append(item)
            
            
        return items
